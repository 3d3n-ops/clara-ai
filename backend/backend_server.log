2025-08-28 16:29:56,863 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 38
2025-08-28 16:29:56,864 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 39
2025-08-28 16:29:56,865 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 40
2025-08-28 16:29:56,865 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 41
2025-08-28 16:29:56,865 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 42
2025-08-28 16:29:56,866 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 43
2025-08-28 16:29:56,867 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 44
2025-08-28 16:29:56,867 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 45
2025-08-28 16:29:56,867 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 46
2025-08-28 16:29:56,868 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 47
2025-08-28 16:29:56,868 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 48
2025-08-28 16:29:56,869 - backend_server - INFO - Redis client initialized with URL: rediss://default:AXGXAAIncDE4MzUxMzI0NmMzNGQ0OTNiYjc1NjAxNzNlMDA0MGYxOHAxMjkwNzk@powerful-asp-29079.upstash.io:6379
2025-08-28 16:29:56,872 - backend_server - INFO - Application starting up
2025-08-28 16:29:57,786 - backend_server - INFO - Successfully connected to Redis
2025-08-28 16:30:00,250 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-08-28 16:30:00,251 - openai._base_client - INFO - Retrying request to /chat/completions in 0.460128 seconds
2025-08-28 16:30:01,523 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-08-28 16:30:01,525 - openai._base_client - INFO - Retrying request to /chat/completions in 0.759195 seconds
2025-08-28 16:30:03,211 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-08-28 16:30:03,212 - backend_server - ERROR - Failed to verify OpenAI API connection: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-08-28 17:02:07,787 - backend_server - INFO - Application shutting down
2025-08-28 17:02:07,847 - backend_server - INFO - Redis client closed successfully
2025-08-28 17:02:10,802 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 38
2025-08-28 17:02:10,803 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 39
2025-08-28 17:02:10,803 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 40
2025-08-28 17:02:10,803 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 41
2025-08-28 17:02:10,803 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 42
2025-08-28 17:02:10,803 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 43
2025-08-28 17:02:10,804 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 44
2025-08-28 17:02:10,804 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 45
2025-08-28 17:02:10,804 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 46
2025-08-28 17:02:10,804 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 47
2025-08-28 17:02:10,804 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 48
2025-08-28 17:02:10,805 - backend_server - INFO - Redis client initialized with URL: rediss://default:AXGXAAIncDE4MzUxMzI0NmMzNGQ0OTNiYjc1NjAxNzNlMDA0MGYxOHAxMjkwNzk@powerful-asp-29079.upstash.io:6379
2025-08-28 17:02:10,807 - backend_server - INFO - Application starting up
2025-08-28 17:02:11,408 - backend_server - INFO - Successfully connected to Redis
2025-08-28 17:02:14,209 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:02:14,239 - backend_server - INFO - Successfully verified OpenAI API connection
2025-08-28 17:12:50,989 - backend_server - INFO - Received file upload: cis110-11fa-01-1up.pdf
2025-08-28 17:12:50,990 - backend_server - INFO - Detected PDF file
2025-08-28 17:12:50,990 - backend_server - INFO - Extracting text from PDF file
2025-08-28 17:12:51,241 - backend_server - INFO - Extracted 8914 characters from PDF
2025-08-28 17:12:51,241 - backend_server - INFO - Extracted 8914 total characters from file
2025-08-28 17:12:51,241 - backend_server - INFO - Starting OpenAI tasks for notes, diagram, and title generation
2025-08-28 17:12:59,441 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:13:06,694 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:13:07,445 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:13:07,450 - backend_server - ERROR - Unexpected error during file upload: unhashable type: 'ChatCompletion'
Traceback (most recent call last):
  File "C:\Users\3d3n2\clara-ai\backend\backend_server.py", line 192, in upload_file
    response = await asyncio.gather(notes_task, diagram_task, title_task)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\3d3n2\AppData\Local\Programs\Python\Python311\Lib\asyncio\tasks.py", line 826, in gather
    if arg not in arg_to_fut:
       ^^^^^^^^^^^^^^^^^^^^^
TypeError: unhashable type: 'ChatCompletion'
2025-08-28 17:17:18,924 - backend_server - INFO - Application shutting down
2025-08-28 17:17:18,986 - backend_server - INFO - Redis client closed successfully
2025-08-28 17:17:21,856 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 38
2025-08-28 17:17:21,856 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 39
2025-08-28 17:17:21,856 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 40
2025-08-28 17:17:21,857 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 41
2025-08-28 17:17:21,857 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 42
2025-08-28 17:17:21,857 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 43
2025-08-28 17:17:21,857 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 44
2025-08-28 17:17:21,857 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 45
2025-08-28 17:17:21,857 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 46
2025-08-28 17:17:21,857 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 47
2025-08-28 17:17:21,858 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 48
2025-08-28 17:17:21,858 - backend_server - INFO - Redis client initialized with URL: rediss://default:AXGXAAIncDE4MzUxMzI0NmMzNGQ0OTNiYjc1NjAxNzNlMDA0MGYxOHAxMjkwNzk@powerful-asp-29079.upstash.io:6379
2025-08-28 17:17:21,861 - backend_server - INFO - Application starting up
2025-08-28 17:17:22,468 - backend_server - INFO - Successfully connected to Redis
2025-08-28 17:17:24,403 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:17:24,413 - backend_server - INFO - Successfully verified OpenAI API connection
2025-08-28 17:17:41,167 - backend_server - INFO - Received file upload: cis110-11fa-01-1up.pdf
2025-08-28 17:17:41,167 - backend_server - INFO - Detected PDF file
2025-08-28 17:17:41,167 - backend_server - INFO - Extracting text from PDF file
2025-08-28 17:17:41,351 - backend_server - INFO - Extracted 8914 characters from PDF
2025-08-28 17:17:41,352 - backend_server - INFO - Extracted 8914 total characters from file
2025-08-28 17:17:41,352 - backend_server - INFO - Starting OpenAI tasks for notes, diagram, and title generation
2025-08-28 17:17:48,367 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:17:48,377 - backend_server - ERROR - Error generating content with OpenAI: object ChatCompletion can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\3d3n2\clara-ai\backend\backend_server.py", line 167, in upload_file
    notes_response = await openai.chat.completions.create(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object ChatCompletion can't be used in 'await' expression
2025-08-28 17:17:48,584 - backend_server - INFO - Stored summary in Redis with key: summary:-2745092139850227331
2025-08-28 17:19:05,166 - backend_server - INFO - Application shutting down
2025-08-28 17:19:05,223 - backend_server - INFO - Redis client closed successfully
2025-08-28 17:19:07,588 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 38
2025-08-28 17:19:07,589 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 39
2025-08-28 17:19:07,590 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 40
2025-08-28 17:19:07,590 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 41
2025-08-28 17:19:07,590 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 42
2025-08-28 17:19:07,590 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 43
2025-08-28 17:19:07,591 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 44
2025-08-28 17:19:07,591 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 45
2025-08-28 17:19:07,592 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 46
2025-08-28 17:19:07,592 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 47
2025-08-28 17:19:07,592 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 48
2025-08-28 17:19:07,593 - backend_server - INFO - Redis client initialized with URL: rediss://default:AXGXAAIncDE4MzUxMzI0NmMzNGQ0OTNiYjc1NjAxNzNlMDA0MGYxOHAxMjkwNzk@powerful-asp-29079.upstash.io:6379
2025-08-28 17:19:08,037 - backend_server - INFO - Application starting up
2025-08-28 17:19:08,772 - backend_server - INFO - Successfully connected to Redis
2025-08-28 17:19:13,822 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:19:13,827 - backend_server - INFO - Successfully verified OpenAI API connection
2025-08-28 17:19:13,828 - backend_server - INFO - Application shutting down
2025-08-28 17:19:13,890 - backend_server - INFO - Redis client closed successfully
2025-08-28 17:19:15,766 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 38
2025-08-28 17:19:15,767 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 39
2025-08-28 17:19:15,767 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 40
2025-08-28 17:19:15,767 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 41
2025-08-28 17:19:15,767 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 42
2025-08-28 17:19:15,767 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 43
2025-08-28 17:19:15,768 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 44
2025-08-28 17:19:15,768 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 45
2025-08-28 17:19:15,768 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 46
2025-08-28 17:19:15,768 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 47
2025-08-28 17:19:15,768 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 48
2025-08-28 17:19:15,769 - backend_server - INFO - Redis client initialized with URL: rediss://default:AXGXAAIncDE4MzUxMzI0NmMzNGQ0OTNiYjc1NjAxNzNlMDA0MGYxOHAxMjkwNzk@powerful-asp-29079.upstash.io:6379
2025-08-28 17:19:16,110 - backend_server - INFO - Application starting up
2025-08-28 17:19:16,681 - backend_server - INFO - Successfully connected to Redis
2025-08-28 17:19:18,181 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:19:18,187 - backend_server - INFO - Successfully verified OpenAI API connection
2025-08-28 17:19:33,424 - backend_server - INFO - Received file upload: cis110-11fa-01-1up.pdf
2025-08-28 17:19:33,424 - backend_server - INFO - Detected PDF file
2025-08-28 17:19:33,424 - backend_server - INFO - Extracting text from PDF file
2025-08-28 17:19:33,686 - backend_server - INFO - Extracted 8914 characters from PDF
2025-08-28 17:19:33,687 - backend_server - INFO - Extracted 8914 total characters from file
2025-08-28 17:19:33,687 - backend_server - INFO - Starting OpenAI tasks for notes, diagram, and title generation
2025-08-28 17:19:40,305 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:19:45,482 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:19:46,772 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:19:46,791 - backend_server - INFO - Successfully generated notes, diagram, and title
2025-08-28 17:19:47,014 - backend_server - INFO - Stored summary in Redis with key: summary:1946931260261959371
2025-08-28 17:42:59,683 - backend_server - INFO - Received file upload: cis110-11fa-01-1up.pdf
2025-08-28 17:42:59,684 - backend_server - INFO - Detected PDF file
2025-08-28 17:42:59,684 - backend_server - INFO - Extracting text from PDF file
2025-08-28 17:43:00,144 - backend_server - INFO - Extracted 8914 characters from PDF
2025-08-28 17:43:00,145 - backend_server - INFO - Extracted 8914 total characters from file
2025-08-28 17:43:00,145 - backend_server - INFO - Starting OpenAI tasks for notes, diagram, and title generation
2025-08-28 17:43:07,746 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:43:13,109 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:43:13,959 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:43:13,960 - backend_server - INFO - Successfully generated notes, diagram, and title
2025-08-28 17:43:14,234 - backend_server - INFO - Stored summary in Redis with key: summary:1946931260261959371
2025-08-28 18:01:39,701 - backend_server - INFO - Received file upload: cis110-11fa-01-1up.pdf
2025-08-28 18:01:39,701 - backend_server - INFO - Detected PDF file
2025-08-28 18:01:39,702 - backend_server - INFO - Extracting text from PDF file
2025-08-28 18:01:39,890 - backend_server - INFO - Extracted 8914 characters from PDF
2025-08-28 18:01:39,890 - backend_server - INFO - Extracted 8914 total characters from file
2025-08-28 18:01:39,890 - backend_server - INFO - Starting OpenAI tasks for notes, diagram, and title generation
2025-08-28 18:01:49,944 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:01:59,099 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:01:59,954 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:01:59,960 - backend_server - INFO - Successfully generated notes, diagram, and title
2025-08-28 18:02:00,191 - backend_server - INFO - Stored summary in Redis with key: summary:1946931260261959371
2025-08-28 18:02:01,940 - backend_server - INFO - Attempting to retrieve summary for key: summary:1946931260261959371
2025-08-28 18:02:02,048 - backend_server - INFO - Successfully retrieved summary for key: summary:1946931260261959371
